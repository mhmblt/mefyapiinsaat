// MEF Yapı & İnşaat - Multi-language Support
// Languages: Turkish (TR), English (EN), German (DE)

const translations = {
    tr: {
        // Navigation
        nav: {
            home: "Anasayfa",
            about: "Hakkımızda",
            corporate: "Kurumsal",
            vision: "Vizyon",
            contact: "İletişim"
        },
        // Hero Section
        hero: {
            slogan: "Geleceği Güvenle<br>İnşa Ediyoruz"
        },
        // About Preview
        about: {
            label: "Hakkımızda",
            title: "Sadece Bina Değil,<br>Güven İnşa<br>Ediyoruz",
            text: "MEF Yapı, 2025 yılında kurulan, estetik ve fonksiyonelliği bir arada sunan premium bir inşaat markasıdır. Her projemizde kalıcı değerler yaratarak, geleceğin yaşam alanlarını bugünden tasarlıyoruz.",
            button: "Hikayemizi Keşfet →"
        },
        // Features
        features: {
            title: "Neden MEF Yapı?",
            subtitle: "Mühendislik anlayışımızla fark yaratıyoruz",
            structural: {
                title: "Yapısal Mükemmellik",
                text: "En yüksek standartlarda beton kalitesi ve dayanıklılık."
            },
            delivery: {
                title: "Zamanında Teslimat",
                text: "Proje süreçlerinde disiplinli yönetim."
            },
            architecture: {
                title: "Modern Mimari",
                text: "Çağdaş tasarım ve estetik değerler."
            },
            quality: {
                title: "Premium Kalite",
                text: "A-sınıfı malzeme ve işçilik."
            }
        },
        // CTA
        cta: {
            projects: "Projelerimiz",
            projectsDesc: "Gelecek vizyonumuzu keşfedin",
            contact: "İletişim",
            contactDesc: "Bizimle iletişime geçin"
        },
        // Instagram
        instagram: {
            title: "@mefyapi",
            subtitle: "Instagram'da bizi takip edin"
        },
        // Footer
        footer: {
            tagline: "Geleceği Güvenle İnşa Ediyoruz",
            pages: "Sayfalar",
            contact: "İletişim",
            copyright: "© 2025 MEF Yapı & İnşaat. Tüm hakları saklıdır."
        },
        // Contact Page
        contactPage: {
            title: "İletişim",
            subtitle: "Sizinle iletişime geçmekten mutluluk duyarız",
            form: {
                title: "Mesaj Gönderin",
                name: "Ad Soyad",
                email: "E-posta",
                phone: "Telefon",
                message: "Mesajınız",
                submit: "Gönder"
            },
            info: {
                address: "Adres",
                phone: "Telefon",
                email: "E-posta",
                hours: "Çalışma Saatleri",
                hoursText: "Pazartesi - Cuma: 09:00 - 18:00<br>Cumartesi: 10:00 - 14:00"
            }
        },
        // Corporate Page
        corporate: {
            title: "Kurumsal",
            subtitle: "Manifesto. Felsefe. Vizyon.",
            philosophy: {
                number: "01",
                title: "Felsefemiz",
                text: "MEF Yapı olarak, inşaat sektörüne farklı bir perspektiften bakıyoruz. Biz sadece yapı inşa etmiyoruz; yaşam alanları tasarlıyoruz. Her projemiz, mühendislik mükemmeliyeti ile estetik değerlerin kusursuz birleşimidir.<br><br>Minimalizm felsefemizin özüdür. \"Az çoktur\" prensibiyle, her detayda gereksiz olan her şeyi elimine ediyor, sadece öze odaklanıyoruz. Bu yaklaşım, binalarımızın zamansız ve klasik kalmasını sağlıyor."
            },
            engineering: {
                number: "02",
                title: "Mühendislik Yaklaşımımız",
                text: "Teknik mükemmellik, MEF Yapı'nın DNA'sındadır. Her projede en yüksek yapısal standartları uyguluyoruz. A-sınıfı malzemeler, hassas hesaplamalar ve titiz uygulama süreçleri ile depreme dayanıklı, uzun ömürlü yapılar inşa ediyoruz.<br><br>Teknoloji kullanımımız sektör ortalamasının çok üzerindedir. BIM (Yapı Bilgi Modellemesi), drone destekli izleme ve gelişmiş proje yönetim yazılımları ile her süreçte şeffaflık ve verimlilik sağlıyoruz."
            },
            whyMef: {
                number: "03",
                title: "Neden MEF?",
                text: "Piyasada pek çok müteahhit var, ancak MEF Yapı farkı açıktır: Biz söz verdiğimizi yaparız. Zamanında teslimat, bütçeye uygunluk ve üstün kalite bizim değişmez prensiplerimizdir.<br><br>Müşterilerimizle kurduğumuz ilişki, bir iş ortaklığının ötesindedir. Her projeyi kendi evimizi inşa eder gibi özenle ele alıyoruz. Bu yüzden referanslarımız en değerli pazarlama aracımızdır."
            }
        },
        // Vision Page
        vision: {
            title: "Vizyon",
            subtitle: "Gelecek Projelerimiz & Konsept Tasarımlar",
            cta: {
                title: "Hayalinizdeki Projeyi Birlikte Tasarlayalım",
                text: "MEF Yapı olarak, sizin vizyonunuzu gerçeğe dönüştürmek için buradayız. İster villa, ister rezidans, ister ticari proje olsun; birlikte mükemmeli yaratacağız.",
                button: "İletişime Geç"
            }
        },
        // About Page
        aboutPage: {
            title: "Hakkımızda",
            subtitle: "MEF Yapı & İnşaat Hikayesi",
            story: {
                title: "Hikayemiz",
                text: "MEF Yapı & İnşaat, 2025 yılında inşaat sektörüne yenilikçi bir vizyon kazandırmak amacıyla kurulmuş, premium yapı ve müteahhitlik hizmetleri sunan profesyonel bir kuruluştur. Sadece yapı inşa etmekle yetinmeyip, her projede güven, estetik ve fonksiyonelliği bir arada sunmayı ilke ediniyoruz."
            },
            mission: {
                title: "Misyonumuz",
                text: "Sadece bina değil, güven inşa etmek. Her projemizde estetik tasarımı fonksiyonel mühendislikle birleştirerek, müşterilerimizin beklentilerini aşan yaşam alanları yaratmak."
            },
            values: {
                title: "Değerlerimiz",
                items: [
                    { icon: "quality", title: "Kalite", text: "A-sınıfı malzeme ve işçilik" },
                    { icon: "trust", title: "Güven", text: "Söz verdiğimizi yaparız" },
                    { icon: "innovation", title: "Yenilikçilik", text: "Modern teknoloji kullanımı" },
                    { icon: "time", title: "Zamanında Teslimat", text: "Proje takvimine sadakat" }
                ]
            },
            stats: {
                projects: "Tamamlanan Proje",
                experience: "Yıllık Deneyim",
                clients: "Mutlu Müşteri",
                team: "Uzman Ekip"
            }
        }
    },
    en: {
        // Navigation
        nav: {
            home: "Home",
            about: "About Us",
            corporate: "Corporate",
            vision: "Vision",
            contact: "Contact"
        },
        // Hero Section
        hero: {
            slogan: "Building the Future<br>with Confidence"
        },
        // About Preview
        about: {
            label: "About Us",
            title: "Not Just Buildings,<br>We Build<br>Trust",
            text: "MEF Yapı, founded in 2025, is a premium construction brand that combines aesthetics and functionality. In every project, we create lasting values and design the living spaces of the future today.",
            button: "Discover Our Story →"
        },
        // Features
        features: {
            title: "Why MEF Yapı?",
            subtitle: "Making a difference with our engineering approach",
            structural: {
                title: "Structural Excellence",
                text: "Highest standards of concrete quality and durability."
            },
            delivery: {
                title: "On-Time Delivery",
                text: "Disciplined management in project processes."
            },
            architecture: {
                title: "Modern Architecture",
                text: "Contemporary design and aesthetic values."
            },
            quality: {
                title: "Premium Quality",
                text: "A-class materials and workmanship."
            }
        },
        // CTA
        cta: {
            projects: "Our Projects",
            projectsDesc: "Discover our future vision",
            contact: "Contact",
            contactDesc: "Get in touch with us"
        },
        // Instagram
        instagram: {
            title: "@mefyapi",
            subtitle: "Follow us on Instagram"
        },
        // Footer
        footer: {
            tagline: "Building the Future with Confidence",
            pages: "Pages",
            contact: "Contact",
            copyright: "© 2025 MEF Yapı & İnşaat. All rights reserved."
        },
        // Contact Page
        contactPage: {
            title: "Contact",
            subtitle: "We'd love to hear from you",
            form: {
                title: "Send a Message",
                name: "Full Name",
                email: "Email",
                phone: "Phone",
                message: "Your Message",
                submit: "Send"
            },
            info: {
                address: "Address",
                phone: "Phone",
                email: "Email",
                hours: "Business Hours",
                hoursText: "Monday - Friday: 09:00 - 18:00<br>Saturday: 10:00 - 14:00"
            }
        },
        // Corporate Page
        corporate: {
            title: "Corporate",
            subtitle: "Manifesto. Philosophy. Vision.",
            philosophy: {
                number: "01",
                title: "Our Philosophy",
                text: "At MEF Yapı, we approach the construction industry from a different perspective. We don't just build structures; we design living spaces. Every project is a flawless combination of engineering excellence and aesthetic values.<br><br>Minimalism is the essence of our philosophy. With the principle of \"less is more,\" we eliminate everything unnecessary in every detail, focusing only on the essentials. This approach ensures our buildings remain timeless and classic."
            },
            engineering: {
                number: "02",
                title: "Our Engineering Approach",
                text: "Technical excellence is in MEF Yapı's DNA. We apply the highest structural standards in every project. With A-class materials, precise calculations, and meticulous implementation processes, we build earthquake-resistant, long-lasting structures.<br><br>Our technology usage is well above the industry average. We ensure transparency and efficiency in every process with BIM (Building Information Modeling), drone-assisted monitoring, and advanced project management software."
            },
            whyMef: {
                number: "03",
                title: "Why MEF?",
                text: "There are many contractors in the market, but MEF Yapı's difference is clear: We do what we promise. On-time delivery, budget compliance, and superior quality are our unchanging principles.<br><br>Our relationship with our clients goes beyond a business partnership. We handle every project with the same care as if we were building our own home. That's why our references are our most valuable marketing tool."
            }
        },
        // Vision Page
        vision: {
            title: "Vision",
            subtitle: "Future Projects & Concept Designs",
            cta: {
                title: "Let's Design Your Dream Project Together",
                text: "At MEF Yapı, we're here to turn your vision into reality. Whether it's a villa, residence, or commercial project; together we'll create perfection.",
                button: "Get in Touch"
            }
        },
        // About Page
        aboutPage: {
            title: "About Us",
            subtitle: "The MEF Yapı & İnşaat Story",
            story: {
                title: "Our Story",
                text: "MEF Yapı & İnşaat was founded in 2025 with the aim of bringing an innovative vision to the construction industry. As a professional organization offering premium construction and contracting services, we not only build structures but also strive to provide trust, aesthetics, and functionality in every project."
            },
            mission: {
                title: "Our Mission",
                text: "Not just buildings, but trust. In every project, we combine aesthetic design with functional engineering to create living spaces that exceed our clients' expectations."
            },
            values: {
                title: "Our Values",
                items: [
                    { icon: "quality", title: "Quality", text: "A-class materials and workmanship" },
                    { icon: "trust", title: "Trust", text: "We do what we promise" },
                    { icon: "innovation", title: "Innovation", text: "Modern technology usage" },
                    { icon: "time", title: "On-Time Delivery", text: "Commitment to project schedule" }
                ]
            },
            stats: {
                projects: "Completed Projects",
                experience: "Years of Experience",
                clients: "Happy Clients",
                team: "Expert Team"
            }
        }
    },
    de: {
        // Navigation
        nav: {
            home: "Startseite",
            about: "Über Uns",
            corporate: "Unternehmen",
            vision: "Vision",
            contact: "Kontakt"
        },
        // Hero Section
        hero: {
            slogan: "Die Zukunft<br>Sicher Bauen"
        },
        // About Preview
        about: {
            label: "Über Uns",
            title: "Nicht Nur Gebäude,<br>Wir Bauen<br>Vertrauen",
            text: "MEF Yapı, gegründet 2025, ist eine Premium-Baumarke, die Ästhetik und Funktionalität vereint. In jedem Projekt schaffen wir bleibende Werte und gestalten die Lebensräume der Zukunft schon heute.",
            button: "Unsere Geschichte →"
        },
        // Features
        features: {
            title: "Warum MEF Yapı?",
            subtitle: "Mit unserem Ingenieuransatz den Unterschied machen",
            structural: {
                title: "Strukturelle Exzellenz",
                text: "Höchste Standards für Betonqualität und Haltbarkeit."
            },
            delivery: {
                title: "Pünktliche Lieferung",
                text: "Diszipliniertes Management in Projektprozessen."
            },
            architecture: {
                title: "Moderne Architektur",
                text: "Zeitgemäßes Design und ästhetische Werte."
            },
            quality: {
                title: "Premium Qualität",
                text: "A-Klasse Materialien und Handwerkskunst."
            }
        },
        // CTA
        cta: {
            projects: "Unsere Projekte",
            projectsDesc: "Entdecken Sie unsere Zukunftsvision",
            contact: "Kontakt",
            contactDesc: "Nehmen Sie Kontakt mit uns auf"
        },
        // Instagram
        instagram: {
            title: "@mefyapi",
            subtitle: "Folgen Sie uns auf Instagram"
        },
        // Footer
        footer: {
            tagline: "Die Zukunft Sicher Bauen",
            pages: "Seiten",
            contact: "Kontakt",
            copyright: "© 2025 MEF Yapı & İnşaat. Alle Rechte vorbehalten."
        },
        // Contact Page
        contactPage: {
            title: "Kontakt",
            subtitle: "Wir freuen uns auf Ihre Nachricht",
            form: {
                title: "Nachricht Senden",
                name: "Vollständiger Name",
                email: "E-Mail",
                phone: "Telefon",
                message: "Ihre Nachricht",
                submit: "Senden"
            },
            info: {
                address: "Adresse",
                phone: "Telefon",
                email: "E-Mail",
                hours: "Öffnungszeiten",
                hoursText: "Montag - Freitag: 09:00 - 18:00<br>Samstag: 10:00 - 14:00"
            }
        },
        // Corporate Page
        corporate: {
            title: "Unternehmen",
            subtitle: "Manifest. Philosophie. Vision.",
            philosophy: {
                number: "01",
                title: "Unsere Philosophie",
                text: "Bei MEF Yapı betrachten wir die Baubranche aus einer anderen Perspektive. Wir bauen nicht nur Gebäude; wir gestalten Lebensräume. Jedes Projekt ist eine perfekte Kombination aus Ingenieurexzellenz und ästhetischen Werten.<br><br>Minimalismus ist das Wesen unserer Philosophie. Mit dem Prinzip \"Weniger ist mehr\" eliminieren wir in jedem Detail alles Überflüssige und konzentrieren uns nur auf das Wesentliche."
            },
            engineering: {
                number: "02",
                title: "Unser Ingenieuransatz",
                text: "Technische Exzellenz liegt in der DNA von MEF Yapı. Wir wenden in jedem Projekt die höchsten baulichen Standards an. Mit A-Klasse-Materialien, präzisen Berechnungen und sorgfältigen Umsetzungsprozessen bauen wir erdbebensichere, langlebige Strukturen.<br><br>Unsere Technologienutzung liegt weit über dem Branchendurchschnitt. Mit BIM, drohnengestützter Überwachung und fortschrittlicher Projektmanagement-Software gewährleisten wir Transparenz und Effizienz in jedem Prozess."
            },
            whyMef: {
                number: "03",
                title: "Warum MEF?",
                text: "Es gibt viele Auftragnehmer auf dem Markt, aber der Unterschied von MEF Yapı ist klar: Wir halten, was wir versprechen. Pünktliche Lieferung, Budgeteinhaltung und überlegene Qualität sind unsere unveränderlichen Prinzipien.<br><br>Unsere Beziehung zu unseren Kunden geht über eine Geschäftspartnerschaft hinaus. Wir behandeln jedes Projekt mit der gleichen Sorgfalt, als würden wir unser eigenes Zuhause bauen."
            }
        },
        // Vision Page
        vision: {
            title: "Vision",
            subtitle: "Zukunftsprojekte & Konzeptdesigns",
            cta: {
                title: "Lassen Sie uns Ihr Traumprojekt Gemeinsam Gestalten",
                text: "Bei MEF Yapı sind wir hier, um Ihre Vision in die Realität umzusetzen. Ob Villa, Residenz oder Gewerbeprojekt; gemeinsam werden wir Perfektion schaffen.",
                button: "Kontakt Aufnehmen"
            }
        },
        // About Page
        aboutPage: {
            title: "Über Uns",
            subtitle: "Die Geschichte von MEF Yapı & İnşaat",
            story: {
                title: "Unsere Geschichte",
                text: "MEF Yapı & İnşaat wurde 2025 mit dem Ziel gegründet, der Baubranche eine innovative Vision zu verleihen. Als professionelle Organisation für Premium-Bau- und Auftragnehmerdienste bauen wir nicht nur Strukturen, sondern streben auch danach, in jedem Projekt Vertrauen, Ästhetik und Funktionalität zu bieten."
            },
            mission: {
                title: "Unsere Mission",
                text: "Nicht nur Gebäude, sondern Vertrauen bauen. In jedem Projekt kombinieren wir ästhetisches Design mit funktionaler Ingenieurskunst, um Lebensräume zu schaffen, die die Erwartungen unserer Kunden übertreffen."
            },
            values: {
                title: "Unsere Werte",
                items: [
                    { icon: "quality", title: "Qualität", text: "A-Klasse Materialien und Handwerkskunst" },
                    { icon: "trust", title: "Vertrauen", text: "Wir halten, was wir versprechen" },
                    { icon: "innovation", title: "Innovation", text: "Moderne Technologienutzung" },
                    { icon: "time", title: "Pünktliche Lieferung", text: "Einhaltung des Projektzeitplans" }
                ]
            },
            stats: {
                projects: "Abgeschlossene Projekte",
                experience: "Jahre Erfahrung",
                clients: "Zufriedene Kunden",
                team: "Expertenteam"
            }
        }
    }
};

// Language Manager
class LanguageManager {
    constructor() {
        this.currentLang = localStorage.getItem('mef-lang') || 'tr';
        this.init();
    }

    init() {
        this.updateLanguage(this.currentLang);
        this.setupEventListeners();
    }

    setupEventListeners() {
        // Use event delegation for more reliable handling
        document.addEventListener('click', (e) => {
            const btn = e.target.closest('[data-lang-switch]');
            if (btn) {
                e.preventDefault();
                e.stopPropagation();
                const lang = btn.dataset.langSwitch;
                if (lang && lang !== this.currentLang) {
                    this.updateLanguage(lang);
                }
            }
        });
    }

    updateLanguage(lang) {
        if (!translations[lang]) return;

        this.currentLang = lang;
        localStorage.setItem('mef-lang', lang);

        // Update HTML lang attribute
        document.documentElement.lang = lang === 'tr' ? 'tr' : (lang === 'de' ? 'de' : 'en');

        // Update all translatable elements
        document.querySelectorAll('[data-i18n]').forEach(el => {
            const key = el.dataset.i18n;
            const translation = this.getNestedTranslation(translations[lang], key);
            if (translation) {
                if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
                    el.placeholder = translation;
                } else {
                    el.innerHTML = translation;
                }
            }
        });

        // Update active state on language switcher
        document.querySelectorAll('[data-lang-switch]').forEach(btn => {
            btn.classList.toggle('active', btn.dataset.langSwitch === lang);
        });

        // Dispatch custom event
        window.dispatchEvent(new CustomEvent('languageChanged', { detail: { lang } }));
    }

    getNestedTranslation(obj, path) {
        return path.split('.').reduce((current, key) => current?.[key], obj);
    }

    getCurrentLang() {
        return this.currentLang;
    }

    t(key) {
        return this.getNestedTranslation(translations[this.currentLang], key) || key;
    }
}

// Initialize on DOM ready
document.addEventListener('DOMContentLoaded', () => {
    window.langManager = new LanguageManager();
});
